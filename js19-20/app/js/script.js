$(function(){function e(){interval=window.setInterval(s,u)}function s(){_==-t*n-n&&1==m?(a.css({marginLeft:-n}),_=2*-n):0==_&&m==-1?(a.css({marginLeft:-n*t}),_=-n*t+n):_-=n*m,a.animate({marginLeft:_},f),0==v?i():c=o+1}function i(){if(1==m&&c!=t)c++,$(".bullets .active").removeClass("active").next("li").addClass("active");else{if(1==m&&c==t)return c=1,$(".bullets li").removeClass("active").eq(0).addClass("active"),!1;if(m==-1&&1!=c)return c--,$(".bullets .active").removeClass("active").prev("li").addClass("active"),!1;m==-1&&1==c&&(c=t,$(".bullets li").removeClass("active").eq(t-1).addClass("active"))}}function l(){window.clearInterval(interval)}for(var a=$(".slider"),n=(a.html(),$(".slider-box").outerWidth()),t=$(".slider__img").length,r=$(".slider-box .prev"),d=$(".slider-box .next"),c=1,o=0,v=0,u=3300,f=1e3,m=1,_=-n,b=0;b<t;b++)html=$(".bullets").html()+"<li></li>",$(".bullets").html(html);var C=$(".slider-box .bullets li");$(".slider-box .bullets li:first").addClass("active"),$(".slider .slider__img:last").clone().prependTo(".slider"),$(".slider .slider__img").eq(1).clone().appendTo(".slider"),$(".slider").css("margin-left",-n),r.click(function(){if(a.is(":animated"))return!1;var e=m;m=-1,s(),m=e}),d.click(function(){if(a.is(":animated"))return!1;var e=m;m=1,s(),m=e}),C.click(function(){return!a.is(":animated")&&(l(),o=C.index(this),1==m?_=-n*o:m==-1&&(_=-n*o-2*n),$(".bullets li").removeClass("active").eq(o).addClass("active"),v=1,s(),void(v=0))}),a.add(d).add(r).hover(function(){l()},e),e(),$(function(){$(".banners__set > .banners__link").on("click",function(e){e.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$(this).siblings(".banners__content").slideUp(500),$(".banners__set > .banners__link i").removeClass("fa-minus").addClass("fa-plus")):($(".banners__set > .banners__link i").removeClass("fa-minus").addClass("fa-plus"),$(this).find("i").removeClass("fa-plus").addClass("fa-minus"),$(".banners__set > .banners__link").removeClass("active"),$(this).addClass("active"),$(".banners__content").slideUp(200),$(this).siblings(".banners__content").slideDown(200)),$(".fa-plus").text("+"),$(".fa-minus").text("-")})})});º—É –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω –±—É–ª–ª–µ—Ç
    $('.bullets').html(html);                         // –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–¥
  }
  var  bullets = $('.slider-box .bullets li');          // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ö—Ä–∞–Ω–∏—Ç –Ω–∞–±–æ—Ä –±—É–ª–ª–∏—Ç–æ–≤


  $('.slider-box .bullets li:first').addClass('active');
  $('.slider .slider__img:last').clone().prependTo('.slider');   // –ö–æ–ø–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ª–∞–π–¥–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ.
  $('.slider .slider__img').eq(1).clone().appendTo('.slider');   // –ö–æ–ø–∏—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª–∞–π–¥–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü.
  $('.slider').css('margin-left', -slideWidth);         // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä .slider —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–ª–µ–≤–æ –Ω–∞ —à–∏—Ä–∏–Ω—É –æ–¥–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞.

  function nextSlide(){                                 // –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è animation(), –≤—ã–ø–æ–ª–Ω—è—é—â–∞—è —Å–º–µ–Ω—É —Å–ª–∞–π–¥–æ–≤.
    interval = window.setInterval(animate, sliderInterval);
  }

  function animate(){
    if (margin==-slideCount*slideWidth-slideWidth  && course==1){     // –ï—Å–ª–∏ —Å–ª–∞–π–¥–µ—Ä –¥–æ—à–µ–ª –¥–æ –∫–æ–Ω—Ü–∞
      slider.css({'marginLeft':-slideWidth});           // —Ç–æ –±–ª–æ–∫ .slider –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
      margin=-slideWidth*2;
    }else if(margin==0 && course==-1){                  // –ï—Å–ª–∏ —Å–ª–∞–π–¥–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥"
      slider.css({'marginLeft':-slideWidth*slideCount});// —Ç–æ –±–ª–æ–∫ .slider –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—á–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
      margin=-slideWidth*slideCount+slideWidth;
    }else{                                              // –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏—è –≤—ã—à–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏,
      margin = margin - slideWidth*(course);            // –∑–Ω–∞—á–µ–Ω–∏–µ margin —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ª–∞–π–¥–∞
    }
    slider.animate({'marginLeft':margin},animateTime);  // –ë–ª–æ–∫ .slider —Å–º–µ—â–∞–µ—Ç—Å—è –≤–ª–µ–≤–æ –Ω–∞ 1 —Å–ª–∞–π–¥.

    if (clickBullets==0){                               // –ï—Å–ª–∏ —Å–ª–∞–π–¥–µ—Ä —Å–º–µ–Ω–∏–ª—Å—è –Ω–µ —á–µ—Ä–µ–∑ –≤—ã–±–æ—Ä –±—É–ª–ª–µ—Ç–∞
    bulletsActive();                                // –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∏–∑–º–µ–Ω—è—é—â–µ–π –∞–∫—Ç–∏–≤–Ω—ã–π –±—É–ª–ª–µ—Ç
  }else{                                              // –ï—Å–ª–∏ —Å–ª–∞–π–¥–µ—Ä –≤—ã–±—Ä–∞–Ω —Å –ø–æ–º–æ—â—å—é –±—É–ª–ª–µ—Ç–∞
    slideNum=index+1;                               // –ù–æ–º–µ—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞
  }
  }

  function bulletsActive(){
    if (course==1 && slideNum!=slideCount){        // –ï—Å–ª–∏ —Å–ª–∞–π–¥—ã —Å–∫–æ–ª—å–∑—è—Ç –≤–ª–µ–≤–æ –∏ —Ç–µ–∫—É—â–∏–π —Å–ª–∞–π–¥ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π
    slideNum++;                                     // –†–µ–¥–∞–∫—Ç–∏—Ä—É–Ω—Ç—Å—è –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞
      $('.bullets .active').removeClass('active').next('li').addClass('active'); // –ò–∑–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –±—É–ª–ª–µ—Ç
  }else if (course==1 && slideNum==slideCount){       // –ï—Å–ª–∏ —Å–ª–∞–π–¥—ã —Å–∫–æ–ª—å–∑—è—Ç –≤–ª–µ–≤–æ –∏ —Ç–µ–∫—É—â–∏–π —Å–ª–∞–π–¥ –ø–æ—Å–ª–µ–¥–Ω–∏–π
    slideNum=1;                                     // –ù–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞
    $('.bullets li').removeClass('active').eq(0).addClass('active'); // –ê–∫—Ç–∏–≤–Ω—ã–º –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –±—É–ª–ª–µ—Ç
    return false;
  }else if (course==-1  && slideNum!=1){              // –ï—Å–ª–∏ —Å–ª–∞–π–¥—ã —Å–∫–æ–ª—å–∑—è—Ç –≤–ø—Ä–∞–≤–æ –∏ —Ç–µ–∫—É—â–∏–π —Å–ª–∞–π–¥ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏
    slideNum--;                                     // –†–µ–¥–∞–∫—Ç–∏—Ä—É–Ω—Ç—Å—è –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞
      $('.bullets .active').removeClass('active').prev('li').addClass('active'); // –ò–∑–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –±—É–ª–ª–µ—Ç
    return false;
  }else if (course==-1  && slideNum==1){              // –ï—Å–ª–∏ —Å–ª–∞–π–¥—ã —Å–∫–æ–ª—å–∑—è—Ç –≤–ø—Ä–∞–≤–æ –∏ —Ç–µ–∫—É—â–∏–π —Å–ª–∞–π–¥ –ø–æ—Å–ª–µ–¥–Ω–∏
    slideNum=slideCount;                            // –ù–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞
    $('.bullets li').removeClass('active').eq(slideCount-1).addClass('active'); // –ê–∫—Ç–∏–≤–Ω—ã–º –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –±—É–ª–ª–µ—Ç
  }
  }

  function sliderStop(){                                // –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è —Ä–∞–±–æ—Ç—É —Å–ª–∞–π–¥–µ—Ä–∞
    window.clearInterval(interval);
  }

  prev.click(function() {                               // –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥"
    if (slider.is(':animated')) { return false; }       // –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–Ω–∏–º–∞—Ü–∏—è
    var course2 = course;                               // –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è course
    course = -1;                                        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ
    animate();                                          // –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ animate()
    course = course2 ;                                  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è course –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  });
  next.click(function() {                               // –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥"
    if (slider.is(':animated')) { return false; }       // –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–Ω–∏–º–∞—Ü–∏—è
    var course2 = course;                               // –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è course
    course = 1;                                         // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ
    animate();                                          // –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ animate()
    course = course2 ;                                  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è course –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  });
  bullets.click(function() {                            // –ù–∞–∂–∞—Ç –æ–¥–∏–Ω –∏–∑ –±—É–ª–ª–µ—Ç–æ–≤
    if (slider.is(':animated')) { return false; }       // –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–Ω–∏–º–∞—Ü–∏—è
  sliderStop();                                       // –¢–∞–π–º–µ—Ä –Ω–∞ –ø–æ–∫–∞–∑ –æ—á–µ—Ä–µ–¥–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è
  index = bullets.index(this);                      // –ù–æ–º–µ—Ä –Ω–∞–∂–∞—Ç–æ–≥–æ –±—É–ª–ª–µ—Ç–∞
  if (course==1){                                     // –ï—Å–ª–∏ —Å–ª–∞–π–¥—ã —Å–∫–æ–ª—å–∑—è—Ç –≤–ª–µ–≤–æ
    margin=-slideWidth*index;                       // –∑–Ω–∞—á–µ–Ω–∏–µ margin —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ª–∞–π–¥–∞
  }else if (course==-1){                              // –ï—Å–ª–∏ —Å–ª–∞–π–¥—ã —Å–∫–æ–ª—å–∑—è—Ç –≤–ø—Ä–∞–≤–æ
    margin=-slideWidth*index-2*slideWidth;
  }
  $('.bullets li').removeClass('active').eq(index).addClass('active');  // –í—ã–±—Ä–∞–Ω–Ω–æ–º—É –±—É–ª–ª–µ—Ç—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–ª–∞—Å—Å .active
  clickBullets = 1;                                     // –§–ª–∞–≥ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –æ —Ç–æ–º, —á—Ç–æ —Å–ª–∞–π–¥ –≤—ã–±—Ä–∞–Ω –∏–º–µ–Ω–Ω–æ –±—É–ª–ª–µ—Ç–æ–º
  animate();
  clickBullets = 0;
  });

  slider.add(next).add(prev).hover(function() {         // –ï—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–ª–∞–π–¥–µ—Ä–∞
    sliderStop();                                       // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è sliderStop() –¥–ª—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–ª–∞–π–¥–µ—Ä–∞
  }, nextSlide);                                        // –ö–æ–≥–¥–∞ –∫—É—Ä—Å–æ—Ä —É—Ö–æ–¥–∏—Ç —Å–æ —Å–ª–∞–π–¥–µ—Ä–∞, –∞–Ω–∏–º–∞—Ü–∏—è –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.

  nextSlide();                                          // –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ nextSlide()

  $(function(){

  //karu

    $(".banners__set > .banners__link").on("click", function(e){
      e.preventDefault();
      if($(this).hasClass('active')){
        $(this).removeClass("active");
        $(this).siblings('.banners__content').slideUp(500);
        $(".banners__set > .banners__link i").removeClass("fa-minus").addClass("fa-plus");
      }else{
        $(".banners__set > .banners__link i").removeClass("fa-minus").addClass("fa-plus");
      $(this).find("i").removeClass("fa-plus").addClass("fa-minus");
      $(".banners__set > .banners__link").removeClass("active");
      $(this).addClass("active");
      $('.banners__content').slideUp(200);
      $(this).siblings('.banners__content').slideDown(200);
      }
      $('.fa-plus').text('+');
      $('.fa-minus').text('-');
    });
  });;



});
